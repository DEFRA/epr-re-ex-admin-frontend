{
  "type": "object",
  "properties": {
    "businessType": {
      "type": "string",
      "enum": [
        "individual",
        "unincorporated",
        "partnership"
      ]
    },
    "companyDetails": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "tradingName": {
          "type": "string"
        },
        "companiesHouseNumber": {
          "type": "string",
          "pattern": "^[a-zA-Z0-9]{2}\\d{6}$"
        },
        "registeredAddress": {
          "type": "object",
          "properties": {
            "line1": {
              "type": "string"
            },
            "line2": {
              "type": "string"
            },
            "town": {
              "type": "string"
            },
            "county": {
              "type": "string"
            },
            "country": {
              "type": "string"
            },
            "postcode": {
              "type": "string"
            },
            "region": {
              "type": "string"
            },
            "fullAddress": {
              "type": "string"
            }
          },
          "additionalProperties": false
        },
        "address": {
          "type": "object",
          "properties": {
            "line1": {
              "type": "string"
            },
            "line2": {
              "type": "string"
            },
            "town": {
              "type": "string"
            },
            "county": {
              "type": "string"
            },
            "country": {
              "type": "string"
            },
            "postcode": {
              "type": "string"
            },
            "region": {
              "type": "string"
            },
            "fullAddress": {
              "type": "string"
            }
          },
          "additionalProperties": false
        }
      },
      "required": [
        "name"
      ],
      "additionalProperties": false
    },
    "formSubmissionTime": {
      "type": "string",
      "format": "date-time"
    },
    "id": {
      "not": {}
    },
    "linkedDefraOrganisation": {
      "type": "object",
      "properties": {
        "orgId": {
          "type": "string",
          "format": "uuid"
        },
        "orgName": {
          "type": "string"
        },
        "linkedBy": {
          "type": "object",
          "properties": {
            "email": {
              "type": "string",
              "format": "email"
            },
            "id": {
              "type": "string",
              "format": "uuid"
            }
          },
          "required": [
            "email",
            "id"
          ],
          "additionalProperties": false
        },
        "linkedAt": {
          "type": "string",
          "format": "date-time"
        }
      },
      "required": [
        "orgId",
        "orgName",
        "linkedBy",
        "linkedAt"
      ],
      "additionalProperties": false
    },
    "managementContactDetails": {
      "type": "object",
      "properties": {
        "fullName": {
          "type": "string"
        },
        "email": {
          "type": "string",
          "format": "email"
        },
        "phone": {
          "type": "string"
        },
        "jobTitle": {
          "type": "string"
        }
      },
      "required": [
        "fullName",
        "email",
        "phone",
        "jobTitle"
      ],
      "additionalProperties": false
    },
    "orgId": {
      "type": "number"
    },
    "partnership": {
      "type": "object",
      "properties": {
        "type": {
          "type": "string",
          "enum": [
            "ltd",
            "ltd_liability"
          ]
        },
        "partners": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "name": {
                "type": "string"
              },
              "type": {
                "type": "string",
                "enum": [
                  "company",
                  "individual"
                ]
              }
            },
            "required": [
              "name",
              "type"
            ],
            "additionalProperties": false
          }
        }
      },
      "required": [
        "type"
      ],
      "additionalProperties": false
    },
    "reprocessingNations": {
      "type": "array",
      "items": {
        "type": "string",
        "enum": [
          "england",
          "wales",
          "scotland",
          "northern_ireland"
        ]
      }
    },
    "status": {
      "type": "string",
      "enum": [
        "created",
        "approved",
        "active",
        "rejected"
      ]
    },
    "submittedToRegulator": {
      "type": "string",
      "enum": [
        "ea",
        "nrw",
        "sepa",
        "niea"
      ]
    },
    "submitterContactDetails": {
      "type": "object",
      "properties": {
        "fullName": {
          "type": "string"
        },
        "email": {
          "type": "string",
          "format": "email"
        },
        "phone": {
          "type": "string"
        },
        "jobTitle": {
          "type": "string"
        }
      },
      "required": [
        "fullName",
        "email",
        "phone",
        "jobTitle"
      ],
      "additionalProperties": false
    },
    "users": {
      "type": "array",
      "default": [],
      "items": {
        "type": "object",
        "properties": {
          "fullName": {
            "type": "string"
          },
          "email": {
            "type": "string",
            "format": "email"
          },
          "contactId": {
            "type": "string",
            "minLength": 1
          },
          "roles": {
            "type": "array",
            "minItems": 1,
            "items": {
              "type": "string",
              "enum": [
                "initial_user",
                "standard_user"
              ]
            }
          }
        },
        "required": [
          "fullName",
          "email",
          "roles"
        ],
        "additionalProperties": false
      }
    },
    "wasteProcessingTypes": {
      "type": "array",
      "minItems": 1,
      "items": {
        "type": "string",
        "enum": [
          "reprocessor",
          "exporter"
        ]
      }
    },
    "schemaVersion": {
      "const": 1
    },
    "registrations": {
      "type": "array",
      "default": [],
      "items": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "status": {
            "type": "string",
            "enum": [
              "created",
              "approved",
              "cancelled",
              "rejected",
              "suspended"
            ]
          },
          "registrationNumber": {
            "type": [
              "string",
              "null"
            ]
          },
          "validFrom": {
            "type": [
              "string",
              "null"
            ],
            "format": "date"
          },
          "validTo": {
            "type": [
              "string",
              "null"
            ],
            "format": "date"
          },
          "formSubmissionTime": {
            "type": "string",
            "format": "date-time"
          },
          "submittedToRegulator": {
            "type": "string",
            "enum": [
              "ea",
              "nrw",
              "sepa",
              "niea"
            ]
          },
          "orgName": {
            "type": "string"
          },
          "material": {
            "type": "string",
            "enum": [
              "aluminium",
              "fibre",
              "glass",
              "paper",
              "plastic",
              "steel",
              "wood"
            ]
          },
          "wasteProcessingType": {
            "type": "string",
            "enum": [
              "reprocessor",
              "exporter"
            ]
          },
          "reprocessingType": {
            "type": [
              "string",
              "null"
            ],
            "enum": [
              "input",
              "output",
              null
            ]
          },
          "site": {
            "type": [
              "array",
              "boolean",
              "number",
              "object",
              "string",
              "null"
            ],
            "oneOf": [
              {
                "type": "object",
                "properties": {
                  "address": {
                    "type": "object",
                    "properties": {
                      "line1": {
                        "type": "string"
                      },
                      "line2": {
                        "type": "string"
                      },
                      "town": {
                        "type": "string"
                      },
                      "county": {
                        "type": "string"
                      },
                      "country": {
                        "type": "string"
                      },
                      "postcode": {
                        "type": "string"
                      },
                      "region": {
                        "type": "string"
                      },
                      "fullAddress": {
                        "type": "string"
                      }
                    },
                    "additionalProperties": false
                  },
                  "gridReference": {
                    "type": "string"
                  },
                  "siteCapacity": {
                    "type": "array",
                    "minItems": 1,
                    "items": {
                      "type": "object",
                      "properties": {
                        "material": {
                          "type": "string",
                          "enum": [
                            "aluminium",
                            "fibre",
                            "glass",
                            "paper",
                            "plastic",
                            "steel",
                            "wood"
                          ]
                        },
                        "siteCapacityInTonnes": {
                          "type": "number"
                        },
                        "siteCapacityTimescale": {
                          "type": "string",
                          "enum": [
                            "weekly",
                            "monthly",
                            "yearly"
                          ]
                        }
                      },
                      "required": [
                        "material",
                        "siteCapacityInTonnes",
                        "siteCapacityTimescale"
                      ],
                      "additionalProperties": false
                    }
                  }
                },
                "required": [
                  "address",
                  "gridReference",
                  "siteCapacity"
                ],
                "additionalProperties": false
              },
              {
                "type": "object",
                "properties": {
                  "address": {
                    "type": "object",
                    "properties": {
                      "line1": {
                        "type": "string"
                      },
                      "line2": {
                        "type": "string"
                      },
                      "town": {
                        "type": "string"
                      },
                      "county": {
                        "type": "string"
                      },
                      "country": {
                        "type": "string"
                      },
                      "postcode": {
                        "type": "string"
                      },
                      "region": {
                        "type": "string"
                      },
                      "fullAddress": {
                        "type": "string"
                      }
                    },
                    "additionalProperties": false
                  },
                  "gridReference": {
                    "type": "string"
                  },
                  "siteCapacity": {
                    "type": "array",
                    "minItems": 1,
                    "items": {
                      "type": "object",
                      "properties": {
                        "material": {
                          "type": "string",
                          "enum": [
                            "aluminium",
                            "fibre",
                            "glass",
                            "paper",
                            "plastic",
                            "steel",
                            "wood"
                          ]
                        },
                        "siteCapacityInTonnes": {
                          "type": "number"
                        },
                        "siteCapacityTimescale": {
                          "type": "string",
                          "enum": [
                            "weekly",
                            "monthly",
                            "yearly"
                          ]
                        }
                      },
                      "required": [
                        "material",
                        "siteCapacityInTonnes",
                        "siteCapacityTimescale"
                      ],
                      "additionalProperties": false
                    }
                  }
                },
                "required": [
                  "address",
                  "gridReference",
                  "siteCapacity"
                ],
                "additionalProperties": false
              }
            ]
          },
          "accreditationId": {
            "type": "string"
          },
          "glassRecyclingProcess": {
            "type": [
              "array",
              "boolean",
              "number",
              "object",
              "string",
              "null"
            ],
            "oneOf": [
              {
                "type": "array",
                "minItems": 1,
                "items": {
                  "type": "string",
                  "enum": [
                    "glass_re_melt",
                    "glass_other"
                  ]
                }
              },
              {
                "const": null
              }
            ]
          },
          "noticeAddress": {
            "type": [
              "array",
              "boolean",
              "number",
              "object",
              "string",
              "null"
            ],
            "oneOf": [
              {
                "type": "object",
                "properties": {
                  "line1": {
                    "type": "string"
                  },
                  "line2": {
                    "type": "string"
                  },
                  "town": {
                    "type": "string"
                  },
                  "county": {
                    "type": "string"
                  },
                  "country": {
                    "type": "string"
                  },
                  "postcode": {
                    "type": "string"
                  },
                  "region": {
                    "type": "string"
                  },
                  "fullAddress": {
                    "type": "string"
                  }
                },
                "additionalProperties": false
              },
              {
                "type": "object",
                "properties": {
                  "line1": {
                    "type": "string"
                  },
                  "line2": {
                    "type": "string"
                  },
                  "town": {
                    "type": "string"
                  },
                  "county": {
                    "type": "string"
                  },
                  "country": {
                    "type": "string"
                  },
                  "postcode": {
                    "type": "string"
                  },
                  "region": {
                    "type": "string"
                  },
                  "fullAddress": {
                    "type": "string"
                  }
                },
                "additionalProperties": false
              }
            ]
          },
          "cbduNumber": {
            "type": [
              "array",
              "boolean",
              "number",
              "object",
              "string",
              "null"
            ],
            "oneOf": [
              {
                "type": "string",
                "minLength": 8,
                "maxLength": 10,
                "pattern": "^[cC][bB][dD][uU]"
              },
              {
                "type": [
                  "array",
                  "boolean",
                  "number",
                  "object",
                  "string",
                  "null"
                ],
                "oneOf": [
                  {
                    "type": "string"
                  },
                  {
                    "type": "string"
                  }
                ]
              }
            ]
          },
          "wasteManagementPermits": {
            "type": [
              "array",
              "boolean",
              "number",
              "object",
              "string",
              "null"
            ],
            "oneOf": [
              {
                "type": "array",
                "minItems": 1,
                "items": {
                  "type": "object",
                  "properties": {
                    "type": {
                      "type": "string",
                      "enum": [
                        "environmental_permit",
                        "installation_permit",
                        "waste_exemption"
                      ]
                    },
                    "permitNumber": {
                      "type": [
                        "array",
                        "boolean",
                        "number",
                        "object",
                        "string",
                        "null"
                      ],
                      "oneOf": [
                        {
                          "type": [
                            "array",
                            "boolean",
                            "number",
                            "object",
                            "string",
                            "null"
                          ],
                          "oneOf": [
                            {
                              "type": "string"
                            },
                            {
                              "not": {}
                            }
                          ]
                        },
                        {
                          "not": {}
                        }
                      ]
                    },
                    "exemptions": {
                      "type": [
                        "array",
                        "boolean",
                        "number",
                        "object",
                        "string",
                        "null"
                      ],
                      "oneOf": [
                        {
                          "type": [
                            "array",
                            "boolean",
                            "number",
                            "object",
                            "string",
                            "null"
                          ],
                          "oneOf": [
                            {
                              "type": "array",
                              "minItems": 1,
                              "items": {
                                "type": "object",
                                "properties": {
                                  "reference": {
                                    "type": [
                                      "array",
                                      "boolean",
                                      "number",
                                      "object",
                                      "string",
                                      "null"
                                    ],
                                    "oneOf": [
                                      {
                                        "type": "string",
                                        "pattern": "^[wW][eE][xX]\\d{6}$"
                                      },
                                      {
                                        "type": "string"
                                      }
                                    ]
                                  },
                                  "exemptionCode": {
                                    "type": [
                                      "array",
                                      "boolean",
                                      "number",
                                      "object",
                                      "string",
                                      "null"
                                    ],
                                    "oneOf": [
                                      {
                                        "type": "string",
                                        "pattern": "^[a-zA-Z]\\d{1,2}$"
                                      },
                                      {
                                        "type": "string"
                                      }
                                    ]
                                  },
                                  "materials": {
                                    "type": "array",
                                    "minItems": 1,
                                    "items": {
                                      "type": [
                                        "array",
                                        "boolean",
                                        "number",
                                        "object",
                                        "string",
                                        "null"
                                      ],
                                      "enum": [
                                        "aluminium",
                                        "fibre",
                                        "glass",
                                        "paper",
                                        "plastic",
                                        "steel",
                                        "wood"
                                      ]
                                    }
                                  }
                                },
                                "required": [
                                  "materials"
                                ],
                                "additionalProperties": false
                              }
                            },
                            {
                              "not": {}
                            }
                          ]
                        },
                        {
                          "not": {}
                        }
                      ]
                    },
                    "authorisedMaterials": {
                      "type": [
                        "array",
                        "boolean",
                        "number",
                        "object",
                        "string",
                        "null"
                      ],
                      "oneOf": [
                        {
                          "type": [
                            "array",
                            "boolean",
                            "number",
                            "object",
                            "string",
                            "null"
                          ],
                          "oneOf": [
                            {
                              "type": "array",
                              "minItems": 1,
                              "items": {
                                "type": "object",
                                "properties": {
                                  "material": {
                                    "type": "string",
                                    "enum": [
                                      "aluminium",
                                      "fibre",
                                      "glass",
                                      "paper",
                                      "plastic",
                                      "steel",
                                      "wood"
                                    ]
                                  },
                                  "authorisedWeightInTonnes": {
                                    "type": "number"
                                  },
                                  "timeScale": {
                                    "type": "string",
                                    "enum": [
                                      "weekly",
                                      "monthly",
                                      "yearly"
                                    ]
                                  }
                                },
                                "required": [
                                  "material",
                                  "authorisedWeightInTonnes",
                                  "timeScale"
                                ],
                                "additionalProperties": false
                              }
                            },
                            {
                              "not": {}
                            }
                          ]
                        },
                        {
                          "not": {}
                        }
                      ]
                    }
                  },
                  "required": [
                    "type"
                  ],
                  "additionalProperties": false
                }
              },
              {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "type": {
                      "type": "string",
                      "enum": [
                        "environmental_permit",
                        "installation_permit",
                        "waste_exemption"
                      ]
                    },
                    "permitNumber": {
                      "type": [
                        "array",
                        "boolean",
                        "number",
                        "object",
                        "string",
                        "null"
                      ],
                      "oneOf": [
                        {
                          "type": [
                            "array",
                            "boolean",
                            "number",
                            "object",
                            "string",
                            "null"
                          ],
                          "oneOf": [
                            {
                              "type": "string"
                            },
                            {
                              "not": {}
                            }
                          ]
                        },
                        {
                          "not": {}
                        }
                      ]
                    },
                    "exemptions": {
                      "type": [
                        "array",
                        "boolean",
                        "number",
                        "object",
                        "string",
                        "null"
                      ],
                      "oneOf": [
                        {
                          "type": [
                            "array",
                            "boolean",
                            "number",
                            "object",
                            "string",
                            "null"
                          ],
                          "oneOf": [
                            {
                              "type": "array",
                              "minItems": 1,
                              "items": {
                                "type": "object",
                                "properties": {
                                  "reference": {
                                    "type": [
                                      "array",
                                      "boolean",
                                      "number",
                                      "object",
                                      "string",
                                      "null"
                                    ],
                                    "oneOf": [
                                      {
                                        "type": "string",
                                        "pattern": "^[wW][eE][xX]\\d{6}$"
                                      },
                                      {
                                        "type": "string"
                                      }
                                    ]
                                  },
                                  "exemptionCode": {
                                    "type": [
                                      "array",
                                      "boolean",
                                      "number",
                                      "object",
                                      "string",
                                      "null"
                                    ],
                                    "oneOf": [
                                      {
                                        "type": "string",
                                        "pattern": "^[a-zA-Z]\\d{1,2}$"
                                      },
                                      {
                                        "type": "string"
                                      }
                                    ]
                                  },
                                  "materials": {
                                    "type": "array",
                                    "minItems": 1,
                                    "items": {
                                      "type": [
                                        "array",
                                        "boolean",
                                        "number",
                                        "object",
                                        "string",
                                        "null"
                                      ],
                                      "enum": [
                                        "aluminium",
                                        "fibre",
                                        "glass",
                                        "paper",
                                        "plastic",
                                        "steel",
                                        "wood"
                                      ]
                                    }
                                  }
                                },
                                "required": [
                                  "materials"
                                ],
                                "additionalProperties": false
                              }
                            },
                            {
                              "not": {}
                            }
                          ]
                        },
                        {
                          "not": {}
                        }
                      ]
                    },
                    "authorisedMaterials": {
                      "type": [
                        "array",
                        "boolean",
                        "number",
                        "object",
                        "string",
                        "null"
                      ],
                      "oneOf": [
                        {
                          "type": [
                            "array",
                            "boolean",
                            "number",
                            "object",
                            "string",
                            "null"
                          ],
                          "oneOf": [
                            {
                              "type": "array",
                              "minItems": 1,
                              "items": {
                                "type": "object",
                                "properties": {
                                  "material": {
                                    "type": "string",
                                    "enum": [
                                      "aluminium",
                                      "fibre",
                                      "glass",
                                      "paper",
                                      "plastic",
                                      "steel",
                                      "wood"
                                    ]
                                  },
                                  "authorisedWeightInTonnes": {
                                    "type": "number"
                                  },
                                  "timeScale": {
                                    "type": "string",
                                    "enum": [
                                      "weekly",
                                      "monthly",
                                      "yearly"
                                    ]
                                  }
                                },
                                "required": [
                                  "material",
                                  "authorisedWeightInTonnes",
                                  "timeScale"
                                ],
                                "additionalProperties": false
                              }
                            },
                            {
                              "not": {}
                            }
                          ]
                        },
                        {
                          "not": {}
                        }
                      ]
                    }
                  },
                  "required": [
                    "type"
                  ],
                  "additionalProperties": false
                }
              }
            ]
          },
          "approvedPersons": {
            "type": "array",
            "minItems": 1,
            "items": {
              "type": "object",
              "properties": {
                "fullName": {
                  "type": "string"
                },
                "email": {
                  "type": "string",
                  "format": "email"
                },
                "phone": {
                  "type": "string"
                },
                "jobTitle": {
                  "type": "string"
                }
              },
              "required": [
                "fullName",
                "email",
                "phone",
                "jobTitle"
              ],
              "additionalProperties": false
            }
          },
          "suppliers": {
            "type": "string"
          },
          "exportPorts": {
            "type": [
              "array",
              "boolean",
              "number",
              "object",
              "string",
              "null"
            ],
            "oneOf": [
              {
                "type": "array",
                "minItems": 1,
                "items": {
                  "type": "string"
                }
              },
              {
                "not": {}
              }
            ]
          },
          "yearlyMetrics": {
            "type": [
              "array",
              "boolean",
              "number",
              "object",
              "string",
              "null"
            ],
            "oneOf": [
              {
                "type": "array",
                "minItems": 1,
                "items": {
                  "type": "object",
                  "properties": {
                    "year": {
                      "type": "integer",
                      "minimum": 2024,
                      "maximum": 2100
                    },
                    "input": {
                      "type": "object",
                      "properties": {
                        "type": {
                          "type": "string",
                          "enum": [
                            "actual",
                            "estimated"
                          ]
                        },
                        "ukPackagingWasteInTonnes": {
                          "type": "number"
                        },
                        "nonUkPackagingWasteInTonnes": {
                          "type": "number"
                        },
                        "nonPackagingWasteInTonnes": {
                          "type": "number"
                        }
                      },
                      "required": [
                        "type",
                        "ukPackagingWasteInTonnes",
                        "nonUkPackagingWasteInTonnes",
                        "nonPackagingWasteInTonnes"
                      ],
                      "additionalProperties": false
                    },
                    "rawMaterialInputs": {
                      "type": "array",
                      "minItems": 1,
                      "items": {
                        "type": "object",
                        "properties": {
                          "material": {
                            "type": "string"
                          },
                          "weightInTonnes": {
                            "type": "number"
                          }
                        },
                        "required": [
                          "material",
                          "weightInTonnes"
                        ],
                        "additionalProperties": false
                      }
                    },
                    "output": {
                      "type": "object",
                      "properties": {
                        "type": {
                          "type": "string",
                          "enum": [
                            "actual",
                            "estimated"
                          ]
                        },
                        "sentToAnotherSiteInTonnes": {
                          "type": "number"
                        },
                        "contaminantsInTonnes": {
                          "type": "number"
                        },
                        "processLossInTonnes": {
                          "type": "number"
                        }
                      },
                      "required": [
                        "type",
                        "sentToAnotherSiteInTonnes",
                        "contaminantsInTonnes",
                        "processLossInTonnes"
                      ],
                      "additionalProperties": false
                    },
                    "productsMadeFromRecycling": {
                      "type": "array",
                      "minItems": 1,
                      "items": {
                        "type": "object",
                        "properties": {
                          "name": {
                            "type": "string"
                          },
                          "weightInTonnes": {
                            "type": "number"
                          }
                        },
                        "required": [
                          "name",
                          "weightInTonnes"
                        ],
                        "additionalProperties": false
                      }
                    }
                  },
                  "required": [
                    "year",
                    "input",
                    "rawMaterialInputs",
                    "output",
                    "productsMadeFromRecycling"
                  ],
                  "additionalProperties": false
                }
              },
              {
                "not": {}
              }
            ]
          },
          "plantEquipmentDetails": {
            "type": "string",
            "oneOf": [
              {
                "type": [
                  "array",
                  "boolean",
                  "number",
                  "object",
                  "string",
                  "null"
                ]
              },
              {
                "not": {}
              }
            ]
          },
          "submitterContactDetails": {
            "type": "object",
            "properties": {
              "fullName": {
                "type": "string"
              },
              "email": {
                "type": "string",
                "format": "email"
              },
              "phone": {
                "type": "string"
              },
              "jobTitle": {
                "type": "string"
              }
            },
            "required": [
              "fullName",
              "email",
              "phone",
              "jobTitle"
            ],
            "additionalProperties": false
          },
          "samplingInspectionPlanPart1FileUploads": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "defraFormUploadedFileId": {
                  "type": "string"
                },
                "defraFormUserDownloadLink": {
                  "type": "string",
                  "format": "uri"
                },
                "s3Uri": {
                  "type": "string"
                }
              },
              "required": [
                "defraFormUploadedFileId",
                "defraFormUserDownloadLink"
              ],
              "additionalProperties": false
            }
          },
          "orsFileUploads": {
            "type": [
              "array",
              "boolean",
              "number",
              "object",
              "string",
              "null"
            ],
            "oneOf": [
              {
                "type": "array",
                "minItems": 1,
                "items": {
                  "type": "object",
                  "properties": {
                    "defraFormUploadedFileId": {
                      "type": "string"
                    },
                    "defraFormUserDownloadLink": {
                      "type": "string",
                      "format": "uri"
                    },
                    "s3Uri": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "defraFormUploadedFileId",
                    "defraFormUserDownloadLink"
                  ],
                  "additionalProperties": false
                }
              },
              {
                "not": {}
              }
            ]
          }
        },
        "required": [
          "id",
          "formSubmissionTime",
          "submittedToRegulator",
          "orgName",
          "material",
          "wasteProcessingType",
          "approvedPersons",
          "suppliers",
          "submitterContactDetails",
          "samplingInspectionPlanPart1FileUploads"
        ],
        "additionalProperties": false
      }
    },
    "accreditations": {
      "type": "array",
      "default": [],
      "items": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "status": {
            "type": "string",
            "enum": [
              "created",
              "approved",
              "cancelled",
              "rejected",
              "suspended"
            ]
          },
          "validFrom": {
            "type": [
              "string",
              "null"
            ],
            "format": "date"
          },
          "validTo": {
            "type": [
              "string",
              "null"
            ],
            "format": "date"
          },
          "accreditationNumber": {
            "type": [
              "string",
              "null"
            ]
          },
          "formSubmissionTime": {
            "type": "string",
            "format": "date-time"
          },
          "submittedToRegulator": {
            "type": "string",
            "enum": [
              "ea",
              "nrw",
              "sepa",
              "niea"
            ]
          },
          "orgName": {
            "type": "string"
          },
          "material": {
            "type": "string",
            "enum": [
              "aluminium",
              "fibre",
              "glass",
              "paper",
              "plastic",
              "steel",
              "wood"
            ]
          },
          "glassRecyclingProcess": {
            "type": [
              "array",
              "boolean",
              "number",
              "object",
              "string",
              "null"
            ],
            "oneOf": [
              {
                "type": "array",
                "minItems": 1,
                "items": {
                  "type": "string",
                  "enum": [
                    "glass_re_melt",
                    "glass_other"
                  ]
                }
              },
              {
                "const": null
              }
            ]
          },
          "wasteProcessingType": {
            "type": "string",
            "enum": [
              "reprocessor",
              "exporter"
            ]
          },
          "reprocessingType": {
            "type": [
              "string",
              "null"
            ],
            "enum": [
              "input",
              "output",
              null
            ]
          },
          "site": {
            "type": [
              "array",
              "boolean",
              "number",
              "object",
              "string",
              "null"
            ],
            "oneOf": [
              {
                "type": "object",
                "properties": {
                  "address": {
                    "type": "object",
                    "properties": {
                      "line1": {
                        "type": "string"
                      },
                      "postcode": {
                        "type": "string"
                      }
                    },
                    "additionalProperties": false
                  }
                },
                "additionalProperties": false
              },
              {
                "not": {}
              }
            ]
          },
          "prnIssuance": {
            "type": "object",
            "properties": {
              "tonnageBand": {
                "type": "string",
                "enum": [
                  "up_to_500",
                  "up_to_5000",
                  "up_to_10000",
                  "over_10000"
                ]
              },
              "signatories": {
                "type": "array",
                "minItems": 1,
                "items": {
                  "type": "object",
                  "properties": {
                    "fullName": {
                      "type": "string"
                    },
                    "email": {
                      "type": "string",
                      "format": "email"
                    },
                    "phone": {
                      "type": "string"
                    },
                    "jobTitle": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "fullName",
                    "email",
                    "phone",
                    "jobTitle"
                  ],
                  "additionalProperties": false
                }
              },
              "incomeBusinessPlan": {
                "type": "array",
                "maxItems": 7,
                "minItems": 7,
                "items": {
                  "type": "object",
                  "properties": {
                    "percentIncomeSpent": {
                      "type": "number"
                    },
                    "usageDescription": {
                      "type": "string"
                    },
                    "detailedExplanation": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "percentIncomeSpent",
                    "usageDescription",
                    "detailedExplanation"
                  ],
                  "additionalProperties": false
                }
              }
            },
            "required": [
              "tonnageBand",
              "signatories",
              "incomeBusinessPlan"
            ],
            "additionalProperties": false
          },
          "submitterContactDetails": {
            "type": "object",
            "properties": {
              "fullName": {
                "type": "string"
              },
              "email": {
                "type": "string",
                "format": "email"
              },
              "phone": {
                "type": "string"
              },
              "jobTitle": {
                "type": "string"
              }
            },
            "required": [
              "fullName",
              "email",
              "phone",
              "jobTitle"
            ],
            "additionalProperties": false
          },
          "samplingInspectionPlanPart2FileUploads": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "defraFormUploadedFileId": {
                  "type": "string"
                },
                "defraFormUserDownloadLink": {
                  "type": "string",
                  "format": "uri"
                },
                "s3Uri": {
                  "type": "string"
                }
              },
              "required": [
                "defraFormUploadedFileId",
                "defraFormUserDownloadLink"
              ],
              "additionalProperties": false
            }
          },
          "orsFileUploads": {
            "type": [
              "array",
              "boolean",
              "number",
              "object",
              "string",
              "null"
            ],
            "oneOf": [
              {
                "type": "array",
                "minItems": 1,
                "items": {
                  "type": "object",
                  "properties": {
                    "defraFormUploadedFileId": {
                      "type": "string"
                    },
                    "defraFormUserDownloadLink": {
                      "type": "string",
                      "format": "uri"
                    },
                    "s3Uri": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "defraFormUploadedFileId",
                    "defraFormUserDownloadLink"
                  ],
                  "additionalProperties": false
                }
              },
              {
                "not": {}
              }
            ]
          }
        },
        "required": [
          "id",
          "formSubmissionTime",
          "submittedToRegulator",
          "orgName",
          "material",
          "wasteProcessingType",
          "prnIssuance",
          "submitterContactDetails",
          "samplingInspectionPlanPart2FileUploads"
        ],
        "additionalProperties": false
      }
    }
  },
  "required": [
    "companyDetails",
    "formSubmissionTime",
    "orgId",
    "submittedToRegulator",
    "submitterContactDetails",
    "wasteProcessingTypes",
    "schemaVersion"
  ],
  "additionalProperties": false
}
